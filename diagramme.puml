@startuml dd

class BestioleFactory {
  + liste_taux : map<string : double>
  + CreerBestiole():Bestiole
}

class Bestiole {
    + id : int
    + vitesse : double
    + position_x : double
    + position_y : double
    + orientation : double
    + taille : double
    + age : int
    + age_limite : int
    + estVivant : bool
    + resistance : double
    + detectabilité : double
    + mort(condition)
    + clonage()
    + contextComportement : IComportement
    + Deplacer()
    + Percussion()
}

class Aquarium {
 + longueur : int
 + largeur : int

 +AjouterBestiole()
 +eliminerBestiole(Bestiole)
 +Maj()
}

class BestioleOreille {
    - deltamin : float
    - deltamax : float
    - cap_detection_o_max : float
    - cap_detection_o_min : float
    + Entendre(BestioleEnv,Aquarium) : Vector<Bool> 

}

class BestioleNageoire {  
    - boost_max : float
    + setVitesse(vitesse v,boost_max) : void
}

class BestioleCamouflage {
  - phi_min : double
  - phi_max : double
  + setDetectabilité(phi_min,phi_max) : void
}

class BestioleCarapace {
  - eta_max : double
  - omega_max : double
  + setResistance(eta_max,omega_max) : void
}

class BestioleYeux {
  - alphamin : Float
  - alphamax : Float
  - dmin : Float
  - dmax : float
  - cap_detection_y_max : Float
  - cap_detection_y_min : Float
  + Voir(BestioleEnv,Aquarium) : Vector<Bool>
}

class IComportement {
  + Deplacer(Bestiole)
}

class Grégaire {
    -Deplacer(Bestiole) : void #ajustDirection

}

class Peureuse{
    -Deplacer(Bestiole) : void #def seuil+fuir

}

class Kamikaze{
    -Deplacer(Bestiole) : void #percuterKamikaze
}

class Prévoyant{
    -Deplacer(Bestiole) : void #ajuster trajectoire

}


class Multi{
    -adoptComportement(Bestiole) : void ?
}

BestioleFactory --> Bestiole : créer
Bestiole <-- BestioleOreille
Bestiole <-- BestioleNageoire
Bestiole <-- BestioleCamouflage
Bestiole <-- BestioleCarapace
Bestiole <-- BestioleYeux


IComportement <|.. Grégaire
IComportement <|.. Peureuse
IComportement <|.. Kamikaze
IComportement <|.. Prévoyant
IComportement <|.. Multi
Bestiole *-- IComportement


Aquarium --* "many" Bestiole : contient

Aquarium -- BestioleFactory

@enduml
